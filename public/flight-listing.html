<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="FlyNow HTML5 Template">

    <title>FlyNow | Travling And Tours Template</title>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/media/favicon.png">

    <!-- All CSS files -->
    <link rel="stylesheet" href="assets/css/vendor/font-awesome.css">
    <link rel="stylesheet" href="assets/css/fonts/icomoon/style.css">
    <link rel="stylesheet" href="assets/css/vendor/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/vendor/slick.css">
    <link rel="stylesheet" href="assets/css/vendor/slick-theme.css">
    <link rel="stylesheet" href="assets/sass/helpers/_search-popup.scss">
    <link rel="stylesheet" href="assets/css/vendor/aksVideoPlayer.css">
    <link rel="stylesheet" href="assets/css/vendor/datetime.css">
    <link rel="stylesheet" href="assets/css/vendor/calendar/classic.css">
    <link rel="stylesheet" href="assets/css/vendor/calendar/classic.date.css">
    <link rel="stylesheet" href="assets/css/vendor/jquery.timepicker.min.css">
    <link rel="stylesheet" href="assets/css/vendor/ui-autocomplete.css">
    <link rel="stylesheet" href="assets/css/vendor/ionrangeslider.css">
    <link rel="stylesheet" href="assets/css/vendor/sal.css">

    <link rel="stylesheet" href="assets/css/app.css">
</head>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<body class="o-scroll" id="js-scroll">
    <!-- Preloader-->
    <div id="preloader">
        <div class="loader">
            <div class="wait"> Veuillez patienter svp</div>
            <div class="plane">
                <img src="https://zupimages.net/up/19/34/4820.gif" class="plane-img" alt="">
            </div>
            <div class="earth-wrapper">
                <div class="earth"></div>
            </div>
        </div>
        <!-- <dotlottie-player src="https://lottie.host/cd993b04-33dd-4600-a4b6-62897a52f071/6gZOhSlbtF.json" background="#b5c5ff" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player> -->
    </div>
    <!-- Back To Top Start -->
    <a href="#main-wrapper" id="backto-top" class="back-to-top"><i class="fas fa-angle-up"></i></a>
    <!-- Main Wrapper Start -->
    <div id="main-wrapper" class="main-wrapper overflow-hidden">

        <!-- Header Area Start -->
        <header >
            <nav class="main-menu">
                <div class="container-fluid">
                    <div class="main-menu__block">
                        <div class="main-menu__left">

                            <div class="main-menu__logo">
                                <a href="/">
                                    <img src="assets/media/logo.png" alt="FlyNow">
                                </a>
                            </div>

                        </div>
                        
                    </div>
                </div>
            </nav>
        </header>
        <!-- Header Area end -->


        <!-- Title-Banner Start -->
        <div class="title-banner">
            <div class="container-fluid">
                <div class="row">
                    <div class="banner-area v-2">
                        <div class="content-box text-alignment">
                            <h1 class="fw-400 lightest-black" style="font-size: 20;color:#484848;">Flight Listing</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Title-Banner End -->

        <!-- Main Content Start -->
        <div class="page-content m-0">

            <!-- Booking Area Start -->
            <section class="booking mb-60">
                <div class="container-fluid">
                    <div class="content">

                        <div class="card">
                            
                            <div class="card-body tab-content">
                                <script>
                                      document.addEventListener("DOMContentLoaded", function() {
                                                
                                                var onewayRadio = document.getElementById("oneway");
                                                var roundtripRadio = document.getElementById("roundtrip");
                                                var return_time = document.getElementById("return_time");

                                                onewayRadio.addEventListener("click", ()=>{
                                                   onewayRadio.checked = true;
                                                   roundtripRadio.checked=false;
                                                   return_time.style ="display:none";
                                                });
                                                roundtripRadio.addEventListener("click", ()=>{
                                                    onewayRadio.checked = false;
                                                   roundtripRadio.checked=true;
                                                   return_time.style = "display:block";
                                                });
                                                
                                            });
                                               
                                    function _myformatDate(dateString){
                                        var date = new Date(dateString);
                                        return dateString?(date.getFullYear() + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-' + ('0' + date.getDate()).slice(-2)):"";
                                    }
                                    function getFlights(event){
                                        event.preventDefault();
                                        var cabin_class = ($('input[type=radio][name=radio]:checked').val())??"economy";
                                        var departure_date = document.getElementById("flightDep")?.value;
                                        var arrival_date = document.getElementById("flightTime")?.value;
                                        var destination = document.getElementById("flightFrom")?.value;
                                        var origin = document.getElementById("flightTo")?.value;
                                   
                                        var adult = (document.getElementById("adult").value)?? 0;
                                        var infant = (document.getElementById("infant").value)??0;
                                        var child = (document.getElementById("child").value)??0;
                                        
                                        if(departure_date?.length>1 && destination?.length >1 && origin?.length >1){
                                            origin = origin.slice(0,3);
                                        destination = destination.slice(0,3);
                                        departure_date = _myformatDate(departure_date);
                                        console.log({ cabin_class, departure_date, destination, origin });
                                        window.location.href=`search_flights?cabin_class=${cabin_class}&departure_date=${departure_date}&destination=${destination}&origin=${origin}&adults=${adult}&infant=${infant}&child=${child}`
                                        }
                                        event.preventDefault();

                                     }
                                 </script>
                                <div class="tab-pane active" id="stopover">
                                    <form method="post" onsubmit="getFlights(event)">
                                        <div class="custom-control mb-32">
                                            <div class=" radio-button">
                                                <input  type="radio" name="oneway" class="custom-control-input" checked id="oneway">
                                                <label class="custom-control-label" for="oneway">One way</label>
                                            </div>
                                            <div class=" radio-button">
                                                <input type="radio" name="roundtrip" class="custom-control-input" id="roundtrip">
                                                <label class="custom-control-label" for="roundtrip">Round-trip</label>
                                            </div>
                                            
                                        </div>
                                        <div class="booking-info mb-32">
                                            <div
                                                class="d-xl-flex align-items-center gap-24 d-lg-block d-flex">
                                                <div class="custom-sel-input-block">
                                                    <label for="flightFrom" class="h-16 color-medium-gray">From</label>
                                                    <input type="text" class="sel-input auto-input" id="flightFrom" placeholder="From">
                                                    <div class="slector-wrapper"></div>
                                                </div>
                                                <div class="arrows">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                        height="24" viewBox="0 0 24 24" fill="none">
                                                        <g clip-path="url(#clip0_518_2277)">
                                                            <path
                                                                d="M23.6804 6.07409L18.2259 0.619583C17.7999 0.193537 17.1092 0.193537 16.6831 0.619583C16.2571 1.04563 16.2571 1.73628 16.6831 2.16233L20.2754 5.75464H1.09096C0.488472 5.75464 3.51626e-05 6.24307 3.51626e-05 6.84556C3.51626e-05 7.44804 0.488472 7.93648 1.09096 7.93648H20.2754L16.6832 11.5287C16.2571 11.9548 16.2571 12.6455 16.6832 13.0715C16.8961 13.2845 17.1753 13.391 17.4545 13.391C17.7337 13.391 18.0129 13.2845 18.2258 13.0714L23.6804 7.61688C24.1064 7.19084 24.1064 6.50013 23.6804 6.07409Z"
                                                                fill="#4D73FC" />
                                                            <path
                                                                d="M22.9091 16.6637H3.72462L7.31683 13.0714C7.74288 12.6453 7.74288 11.9547 7.31683 11.5286C6.89088 11.1026 6.20013 11.1026 5.77409 11.5286L0.319535 16.9831C-0.106512 17.4092 -0.106512 18.0998 0.319535 18.5259L5.77404 23.9804C5.98713 24.1935 6.26627 24.3 6.54546 24.3C6.82465 24.3 7.10388 24.1935 7.31679 23.9804C7.74283 23.5544 7.74283 22.8637 7.31679 22.4377L3.72457 18.8455H22.9091C23.5116 18.8455 24 18.357 24 17.7546C24 17.1521 23.5116 16.6637 22.9091 16.6637Z"
                                                                fill="#4D73FC" />
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_518_2277">
                                                                <rect width="24" height="24" fill="white" />
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                </div>
                                                <div class="custom-sel-input-block">
                                                    <label for="flightTo" class="h-16 color-medium-gray">To</label>
                                                    <input type="text" class="sel-input auto-input" id="flightTo" placeholder="To">
                                                    <div class="slector-wrapper"></div>
                                                </div>
                                                <div class="vertical-line d-xl-block d-none"></div>
                                            </div>
                                            <div class="d-xl-flex align-items-center gap-24 d-lg-block ">
                                                <div class="input-date-picker">
                                                    <label for="flightDep" class="h-16 color-medium-gray">Departing</label>
                                                    <input type="text" class="sel-input date_from" id="flightDep" placeholder="Aug 18, 2023">
                                                </div>
                                                <div class="input-date-picker">
                                                    <div id="return_time">
                                                    <label for="flightTime" class="h-16 color-medium-gray">Returning</label>
                                                    <input type="text" class="sel-input date_to" id="flightTime" placeholder="Aug 20, 2023">
                                                    </div>
                                                </div>
                                                <div class="vertical-line d-xl-block d-none"></div>
                                                <div class="custom-sel-input-block ">
                                                    <div class="h-16 color-medium-gray mb-2">Passengers and Class</div>
                                                    <div class="seat-booking color-black"> <span class="total-pasenger">1</span> Passengers / <span class="pasenger-class">Economy</span></div>

                                                    <div class="passenger-area pessenger-box bg-white light-shadow br-5 p-24">
                                                        <h4 class="color-black mb-32">Passenger</h4>
                                                        <div class="passenger-box mb-24">
                                                            <div class="row">
                                                                <div class="col-md-7 col-sm-6 col-6">
                                                                    <div class="content-box">
                                                                        <h5 class="lightest-black">Adult</h5>
                                                                        <p class="color-medium-gray light"> Above 12 years.</p>
                                                                    </div>
                                                                </div>

                                                                <div class="col-md-5 col-sm-6 col-6">
                                                                    <div class="quantity quantity-wrap">
                                                                        <input class="decrement" type="button" value="-">
                                                                        <input type="text" name="quantity" value="1" maxlength="2" max="9" min="1" size="1" id="adult" class="number">
                                                                        <input class="increment" type="button" value="+">
                                                                    </div>
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        <div class="passenger-box mb-24">
                                                            <div class="row">
                                                                <div class="col-md-7 col-sm-6 col-6">
                                                                    <div class="content-box">
                                                                        <h5 class="lightest-black">Child</h5>
                                                                        <p class="color-medium-gray light"> 2-11 years on travel date.</p>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-5 col-sm-6 col-6">
                                                                    <div class="quantity quantity-wrap">
                                                                        <input class="decrement" type="button" value="-">
                                                                        <input type="text" name="quantity" value="0" maxlength="2" size="1" id="child" class="number">
                                                                        <input class="increment" type="button" value="+">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="passenger-box mb-32">
                                                            <div class="row">
                                                                <div class="col-md-7 col-sm-6 col-6">
                                                                    <div class="content-box">
                                                                        <h5 class="lightest-black">Infant</h5>
                                                                        <p class="color-medium-gray light"> Below 2 years.</p>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-5 col-sm-6 col-6">
                                                                    <div class="quantity quantity-wrap">
                                                                        <input class="decrement" type="button" value="-">
                                                                        <input type="text" name="quantity" value="0" maxlength="2" size="1" id="infant" class="number">
                                                                        <input class="increment" type="button" value="+">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <p class="color-medium-gray light mb-32">Please
                                                            note: You can book for a maximum of nine
                                                            passengers.</p>
                                                        <h4 class="color-black mb-32">Travel Class</h4>
                                                        <div class="radio-tile-group">
                                                            <div class="input-container">
                                                                <input id="economy" class="radio-button"
                                                                    type="radio" name="radio"
                                                                    value="economy">
                                                                <div class="radio-tile">
                                                                    <label for="economy"
                                                                        class="radio-tile-label">Economy</label>
                                                                </div>
                                                            </div>
                                                            <div class="input-container">
                                                                <input id="business" class="radio-button"
                                                                    type="radio" name="radio"
                                                                    value="business">
                                                                <div class="radio-tile">
                                                                    <label for="business"
                                                                        class="radio-tile-label">Business</label>
                                                                </div>
                                                            </div>
                                                            <div class="input-container">
                                                                <input id="firstClass" class="radio-button"
                                                                    type="radio" name="radio"
                                                                    value="first">
                                                                <div class="radio-tile">
                                                                    <label for="firstClass"
                                                                        class="radio-tile-label">First
                                                                        Class</label>
                                                                </div>
                                                            </div>
                                                            <div class="input-container">
                                                                <input id="pre-eco" class="radio-button"
                                                                    type="radio" name="radio"
                                                                    value="premium_economy">
                                                                <div class="radio-tile">
                                                                    <label for="pre-eco"
                                                                        class="radio-tile-label">Premium
                                                                        Economy</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                      
                                        
                                        <div class="row align-items-center">
                                           
                                            
                                            <div class="col-xl-4 col-lg-6 col-md-6 col-sm-9">
                                                <div class="row align-items-center">
                                                    
                                                    <div class="col-sm-6">
                                                        
                                                        <button style="position: absolute;right: 0;padding: 16px 28px" class="cus-btn">Show
                                                            Flight
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                height="24" viewBox="0 0 32 32" fill="none">
                                                                <g clip-path="url(#clip0_502_1331)">
                                                                    <path
                                                                        d="M31.6933 0.544584C30.6572 -0.491824 27.1402 1.34503 26.1041 2.38143L21.9545 6.53127H3.07887C2.63024 6.53127 2.24462 6.85011 2.16055 7.29104C2.07669 7.73189 2.31798 8.16995 2.73524 8.3348L15.2174 13.2677L7.5633 20.9216H0.323909C0.168651 20.9221 0.0346723 21.0323 0.00576263 21.1852C-0.023357 21.3385 0.060152 21.4901 0.20498 21.5471L6.29687 23.9548C6.33201 24.1078 6.38108 24.2574 6.44394 24.4038L6.17745 24.6709C5.79778 25.0503 5.79778 25.6651 6.17745 26.045C6.55664 26.4247 7.17263 26.4247 7.55182 26.045L7.81194 25.785C7.95935 25.8501 8.11132 25.9014 8.26623 25.9382L10.6144 31.9561C10.6709 32.1013 10.8229 32.1851 10.976 32.1568C11.0419 32.145 11.1002 32.1123 11.1451 32.0673C11.2044 32.0087 11.2399 31.9274 11.2399 31.8382V24.7512L19.0155 16.976L23.9019 29.4993C24.0654 29.9177 24.5037 30.1608 24.9452 30.0781C25.136 30.0421 25.3038 29.9498 25.4333 29.8212C25.6038 29.6499 25.7071 29.4151 25.7077 29.1591V10.284L29.8573 6.13423C30.893 5.09789 32.7293 1.58085 31.6933 0.544584Z"
                                                                        fill="white" />
                                                                </g>
                                                                <defs>
                                                                    <clipPath id="clip0_502_1351">
                                                                        <rect width="32" height="32" fill="black" />
                                                                    </clipPath>
                                                                </defs>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                    <br><br>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    
                                </div>
                                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                               
                                <script src="https://cdnjs.cloudflare.com/ajax/libs/luxon/2.0.1/luxon.min.js"></script>

                                <script>
                                    
                                    $(document).ready(async function()  {
                                        $("#floader").show();
                                        let exchangeRates = null;
                                        try {
                                            const response = await fetch("https://api.exchangerate-api.com/v4/latest/USD");
                                        
                                            if (response.ok) {
                                                const data = await response.json();
                                                exchangeRates = data.rates;
                                            } else {
                                                throw new Error('Failed to fetch exchange rate data');
                                            }
                                        } catch (error) {
                                            console.error('Error:', error.message);
                                        }

                                        function _myDate(dateString) {
                                        const dateTime = luxon.DateTime.fromISO(dateString);
                                        
                                        const formattedDate = dateTime.toFormat('cccc dd LLLL');
                                        
                                        return formattedDate;
                                    }
                                    

                                        function convertToUSD(amount, currencyCode) {
                                            try {
                                                
                                                if (exchangeRates) {
                                                    if (exchangeRates.hasOwnProperty(currencyCode)) {
                                                        const exchangeRate = exchangeRates[currencyCode];
                                                        const convertedAmount = amount/exchangeRate;
                                                        return convertedAmount;
                                                    } else {
                                                        throw new Error(`Exchange rate for currency code ${currencyCode} not found`);
                                                    }
                                                } else {
                                                    throw new Error('Exchange rates data not available');
                                                }
                                            } catch (error) {
                                                console.error('Error:', error.message);
                                            }
                                        }

                                        
                                        function getUrlParams() {
                                            return Object.fromEntries(new URLSearchParams(window.location.search));
                                        }
                            
                                        // Get URL parameters
                                        const params = getUrlParams();
                                        const { cabin_class, departure_date, destination, origin, adults, infant, child } = params;

                                        document.getElementById("flightDep").value =departure_date ;
                                        document.getElementById("flightFrom").value = destination;
                                        document.getElementById("flightTo").value = origin;
                                   
                                        document.getElementById("adult").value = adults;
                                        document.getElementById("infant").value = infant;
                                        document.getElementById("child").value = child;

                                        var serverUrl = window.location.origin;
                                        
                                        passenger_type = [];
                                        for(i=0;i<(+adults);i++) passenger_type.push({"type":"adult"});
                                        for(i=0;i<(+infant);i++) passenger_type.push({"type":"infant"});
                                        for(i=0;i<(+child);i++) passenger_type.push({"type":"child"});
                                        
                                        var _cpage = 1;
                                        
                                        axios.post(serverUrl+"/flights",{ cabin_class, departure_date, destination, origin, passenger_type },{headers:{'Content-Type': 'application/json',}})
                                        .then(response => { 
                                      
                                            const _tl = response?.data?.data?.offers?.length;
                                            
                                            response?.data?.data?.offers?.map((v,_i)=>{
                                                console.log(v);
                    
                                                const _rhtml = `<div id="flightseg${_i}" class="flight-block bg-white light-shadow p-24 br-10 mb-16" >
                                <div class="flight-area">
                                    <div class="airline-name">
                                        <img width="50" height="50" src="${v?.owner?.logo_symbol_url}" alt="">
                                        <div>
                                            <h5 class="lightest-black mb-8">${v?.owner?.name}</h5>
                                            <h6 class="dark-gray">${v?.slices[0]?.segments[0]?.aircraft?.name} </h6>
                                        </div>
                                    </div>
                                    <div class="flight-detail">
                                        <div class="flight-departure">
                                            <h5 class="color-black">${v?.slices[0]?.segments[0]?.departing_at?.slice(11,16)}</h5>
                                            <h5 class="dark-gray text-end">${v?.slices[0]?.origin?.iata_code}</h5>
                                        </div>
                                        <div class="d-inline-flex align-items-center gap-8">
                                            <span class="">From</span>
                                            <div class="from-to text-center">
                                                <h5 class="dark-gray">${(v?.slices[0]?.duration?.length>4)?(v?.slices[0]?.duration?.length>8)?(v?.slices[0]?.duration.slice(1,3) + ' ' + v?.slices[0]?.duration.slice(4,7) + ' ' + v?.slices[0]?.duration.slice(7)):(v?.slices[0]?.duration.slice(2,5) + ' ' + v?.slices[0]?.duration.slice(5)):(v?.slices[0]?.duration)}</h5>
                                                <img src="assets/media/icons/route-plan.png" alt="">
                                                <h6 class="color-black">${(+v?.slices[0]?.segments[0]?.stops?.length)+1} stop</h6>
                                            </div>
                                            <span class="">To</span>
                                        </div>
                                        <div class="flight-departure">
                                            <h5 class="color-black">${v?.slices[0]?.segments[0]?.arriving_at?.slice(11,16)}</h5>
                                            <h5 class="dark-gray">${v?.slices[0]?.destination?.iata_code}</h5>
                                        </div>
                                    </div>
                                    <div class="flight-button">
                                        <div class="amount">
                                            <h5 class="color-black">$${convertToUSD(v?.total_amount, v?.total_currency).toFixed(2)}</h5>
                                            <h6 class="dark-gray text-end">Price</h6>
                                        </div>
                                        <a href="/confirm_booking?depart_time=${v?.slices[0]?.segments[0]?.departing_at?.slice(11,16)}&arrival_time=${v?.slices[0]?.segments[0]?.arriving_at?.slice(11,16)}&duration=${(v?.slices[0]?.duration?.length>4)?(v?.slices[0]?.duration?.length>8)?(v?.slices[0]?.duration.slice(1,3) + ' ' + v?.slices[0]?.duration.slice(4,7) + ' ' + v?.slices[0]?.duration.slice(7)):(v?.slices[0]?.duration.slice(2,5) + ' ' + v?.slices[0]?.duration.slice(5)):(v?.slices[0]?.duration)}&stops=${(+v?.slices[0]?.segments[0]?.stops?.length)+1}&departure_date=${_myDate(v?.slices[0]?.segments[0]?.departing_at)}&arrival_date=${_myDate(v?.slices[0]?.segments[0]?.arriving_at)}&owner=${v?.owner?.name}&cabin_class=${v?.slices[0]?.segments[0]?.passengers[0].cabin_class}&aircraft=${v?.slices[0]?.segments[0]?.aircraft?.name}&adult=${adults}&child=${child}&infant=${infant}&sub_total=${convertToUSD(v?.total_amount, v?.total_currency)}&origin=${v?.slices[0]?.origin?.iata_code}&destination=${v?.slices[0]?.destination?.iata_code}" class="cus-btn btn-sec">Book Now</a>
                                    </div>
                                </div>
                                <hr class="bg-light-gray mt-24 mb-24">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h5 class="color-black">${_myDate(v?.slices[0]?.segments[0]?.departing_at)}</h5>
                                    <div>
                                        <a class="accordion-button color-primary h5 collapsed" data-bs-toggle="collapse" data-bs-target="#flightDetail${_i}"
                                            aria-expanded="true"> <i class="fal fa-chevron-down color-primary "></i>&nbsp;Flight Detail</a>
                                    </div>
                                </div>
                            </div>
                            <div id="flightDetail${_i}" class="accordion-collapse collapse mb-32" data-bs-parent="#accordionExample">
                                <div class="row bg-white br-10 light-shadow p-24 m-0 align-items-center">
                                    <div class="col-lg-3 col-sm-4">
                                        <div class="time-detail">
                                            <h6 class="flight-date mb-32"> ${_myDate(v?.slices[0]?.segments[0]?.departing_at)}</h6>
                                             <h6 class="color-black mb-8"> ${_myDate(v?.slices[0]?.segments[0]?.departing_at)} - ${v?.slices[0]?.segments[0]?.departing_at?.slice(11,16)}</h6>
                                             <h6 class="dark-gray mb-16">${(v?.slices[0]?.duration?.length>4)?(v?.slices[0]?.duration?.length>8)?(v?.slices[0]?.duration.slice(1,3) + ' ' + v?.slices[0]?.duration.slice(4,7) + ' ' + v?.slices[0]?.duration.slice(7)):(v?.slices[0]?.duration.slice(2,5) + ' ' + v?.slices[0]?.duration.slice(5)):(v?.slices[0]?.duration)}</h6>
                                             <h6 class="dark-gray">${_myDate(v?.slices[0]?.segments[0]?.arriving_at)} - ${v?.slices[0]?.segments[0]?.arriving_at?.slice(11,16)}</h6>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 col-sm-8">
                                        <div class="detail-block">
                                            <div class="d-sm-flex d-block align-items-center gap-24">
                                                <img width="50" height="50" src="${v?.owner?.logo_symbol_url}" alt="">
                                                <div class="content">
                                                    <h6 class="dark-gray">${v?.owner?.name}</h6>
                                                    <h6 class="dark-gray">Operated by ${v?.owner?.name}</h6>
                                                    <h6 class="dark-gray">${v?.slices[0]?.segments[0]?.passengers[0].cabin_class} | Aircraft ${v?.slices[0]?.segments[0]?.aircraft?.name}</h6>
                                                </div>
                                            </div>
    
                                        </div>
                                    </div>
                                </div>
                            </div>`;
                                                const flightOffersContainer = document.getElementById("flight_offers");
                                                
                                                flightOffersContainer.innerHTML += _rhtml;
                                        
                                              
                                            })                                      
                                            $("#floader").hide();
                                        })
                                            
                                        .catch(error => {
                                            console.error('Error fetching data:', error);
                                        });
                                       

                                    });
                                </script>
                                <!-- Flight tab Start -->
                               
                                <!-- Flight tab End -->

                            </div>
                        </div>

                    </div>
                </div>
            </section>
            <!-- Booking Area End -->

            <!-- Flight Listing Start -->
            <section class="flight-listing-page mb-60">
                <div class="container-fluid">
                    <div class="row">
                        <!-- <div class="col-xl-4 col-lg-4 mb-xl-0 mb-32">
                            <div class="sidebar bg-white br-10 light-shadow">
                                <div class="sidebar-title">
                                    <h4 class="lightest-black">Filter Search</h4>
                                </div>
                                <div class="filter-block p-24 box-1"  data-sal="slide-left" data-sal-duration="800" data-sal-delay="100" data-sal-easing="ease-in-out">
                                    <div class="title mb-32" data-count="1">
                                        <h4 class="color-black">Cabin </h4>
                                        <i class="fal fa-chevron-up color-primary"></i>
                                    </div>
                                    <div class="content-block mb-32">
                                        <div class="radio-tile-group sidebar">
                                            <div class="input-container">
                                                <input id="economyClas" class="radio-button"  type="radio" name="radio" value="Economy">
                                                <div class="radio-tile sidebar-radio">
                                                    <label for="economyClas" class="radio-tile-label sidebar-label">Economy Class</label>
                                                </div>
                                            </div>
                                            <div class="input-container">
                                                <input id="businessCl" class="radio-button" type="radio" name="radio" value="Business">
                                                <div class="radio-tile sidebar-radio">
                                                    <label for="businessCl" class="radio-tile-label sidebar-label">Business Class</label>
                                                </div>
                                            </div>
                                            <div class="input-container">
                                                <input id="firstClas" class="radio-button" type="radio" name="radio" value="First Class">
                                                <div class="radio-tile sidebar-radio">
                                                    <label for="firstClas" class="radio-tile-label sidebar-label">First Class</label>
                                                </div>
                                            </div>
                                            <div class="input-container">
                                                <input id="preEco" class="radio-button" type="radio" name="radio" value="Premium Economy">
                                                <div class="radio-tile sidebar-radio">
                                                    <label for="preEco" class="radio-tile-label sidebar-label">Premium Economy</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="bg-sec-gray mb-8">
                                </div>
                                <div class="filter-block plr-24 box-2"  data-sal="slide-right" data-sal-duration="800" data-sal-delay="100" data-sal-easing="ease-in-out">
                                    <div class="title mb-32" data-count="2">
                                        <h4 class="color-black">Price Range </h4>
                                        <i class="fal fa-chevron-up color-primary"></i>
                                    </div>
                                    <div class="content-block">
                                        <div class="slider-track mb-32">
                                            <div class="d-flex justify-content-between mb-4p">
                                                <h5>$100</h5>
                                                <h5>$3000</h5>
                                            </div>
                                            <input type="text" class="js-slider form-control" value="0">
                                        </div>
                                    </div>
                                    <hr class="bg-sec-gray mb-32">
                                </div>
                                <div class="filter-block plr-24 box-3"  data-sal="slide-left" data-sal-duration="800" data-sal-delay="100" data-sal-easing="ease-in-out">
                                    <div class="title mb-32" data-count="3">
                                        <h4 class="color-black fw-500">Airlines</h4>
                                        <i class="fal fa-chevron-up color-primary"></i>
                                    </div>
                                    <div class="content-block">
                                        <div class="custom-control mb-32">
                                            <div class="d-flex justify-content-between align-items-center mb-24">
                                                <div class="radio-button">
                                                    <input type="radio" name="airline" class="custom-control-input" id="emirates">
                                                    <label class="custom-control-label lightest-black" for="emirates">Emirates Airline</label>
                                                </div>
                                                <h5 class="light-black">(02)</h5>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-24">
                                                <div class="radio-button">
                                                    <input type="radio" name="airline" class="custom-control-input" id="qatar">
                                                    <label class="custom-control-label lightest-black" for="qatar">Qatar Airways</label>
                                                </div>
                                                <h5 class="light-black">(04)</h5>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-24">
                                                <div class="radio-button">
                                                    <input type="radio" name="airline" class="custom-control-input" id="arabian">
                                                    <label class="custom-control-label lightest-black" for="arabian">Saudi Arabian Airlines</label>
                                                </div>
                                                <h5 class="light-black">(06)</h5>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-24">
                                                <div class="radio-button">
                                                    <input type="radio" name="airline" class="custom-control-input" id="asian">
                                                    <label class="custom-control-label lightest-black" for="asian">Air Asia</label>
                                                </div>
                                                <h5 class="light-black">(08)</h5>
                                            </div>
                                            <div class="filter-block-2 box-6">
                                                <div class="title justify-content-start load-more-btn h5 mb-24 color-primary" data-count="6"> Show all airlines&nbsp;&nbsp;<i class="fas fa-caret-down"></i> </div>
                                                <div class="content-block">
                                                    <div class="d-flex justify-content-between align-items-center mb-24">
                                                        <div class="radio-button">
                                                            <input type="radio" name="airline" class="custom-control-input" id="saudi">
                                                            <label class="custom-control-label lightest-black" for="saudi">Saudi Arabian Airlines</label>
                                                        </div>
                                                        <h5 class="light-black">(06)</h5>
                                                    </div>
                                                    <div class="d-flex justify-content-between align-items-center mb-24">
                                                        <div class="radio-button">
                                                            <input type="radio" name="airline" class="custom-control-input" id="air_asia">
                                                            <label class="custom-control-label lightest-black" for="air_asia">Air Asia</label>
                                                        </div>
                                                        <h5 class="light-black">(08)</h5>
                                                    </div>
                                                    <div class="d-flex justify-content-between align-items-center mb-24">
                                                        <div class="radio-button">
                                                            <input type="radio" name="airline" class="custom-control-input" id="pia-air">
                                                            <label class="custom-control-label lightest-black" for="pia-air">Pakistan International Airline</label>
                                                        </div>
                                                        <h5 class="light-black">(10)</h5>
                                                    </div>  
                                                </div>
                                            </div>
                                            
                                        </div>
                                    </div>
                                    <hr class="bg-sec-gray mb-32">
                                </div>
                                <div class="filter-block plr-24 border-0 box-4"  data-sal="slide-right" data-sal-duration="800" data-sal-delay="100" data-sal-easing="ease-in-out">
                                    <div class="title mb-32" data-count="4">
                                        <h4 class="color-black">Stops</h4>
                                        <i class="fal fa-chevron-up color-primary"></i>
                                    </div>
                                    <div class="content-block mb-32">
                                        <div class="content-block">
                                            <div class="radio-tile-group sidebar mb-24">
                                                <div class="input-container">
                                                    <input id="any" class="radio-button" type="radio" name="radio" value="any">
                                                    <div class="radio-tile sidebar-radio">
                                                        <label for="any" class="radio-tile-label sidebar-label">Any</label>
                                                    </div>
                                                </div>
                                                <div class="input-container">
                                                    <input id="non-stop" class="radio-button" type="radio" name="radio" value="non-stop">
                                                    <div class="radio-tile sidebar-radio">
                                                        <label for="non-stop" class="radio-tile-label sidebar-label">Non-Stop</label>
                                                    </div>
                                                </div>
                                                <div class="input-container">
                                                    <input id="stop_1" class="radio-button" type="radio" name="radio" value="stop_1">
                                                    <div class="radio-tile sidebar-radio">
                                                        <label for="stop_1" class="radio-tile-label sidebar-label">1 Stop</label>
                                                    </div>
                                                </div>
                                                <div class="input-container">
                                                    <input id="stop_2" class="radio-button" type="radio" name="radio" value="stop_2">
                                                    <div class="radio-tile sidebar-radio">
                                                        <label for="stop_2" class="radio-tile-label sidebar-label">2 Stop</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="filter-checkbox">
                                            <input type="checkbox" id="night">
                                            <label for="night" class="allow_over">Allow overnight stopovers</label>
                                        </div>
                                    </div>
                                    <hr class="bg-sec-gray mb-32">
                                </div>
                                <div class="filter-block plr-24 box-5"  data-sal="slide-left" data-sal-duration="800" data-sal-delay="100" data-sal-easing="ease-in-out">
                                    <div class="title mb-16 pb-4" data-count="5">
                                        <h4 class="color-black">Departure </h4>
                                        <i class="fal fa-chevron-up color-primary"></i>
                                    </div>
                                    <div class="content-block">
                                        <div class="radio-tile-group sidebar pb-24">
                                            <div class="input-container">
                                                <input id="e-morning" class="radio-button" type="radio" name="clock-time" value="e-morning">
                                                <div class="radio-tile sidebar-departure-radio">
                                                    <i class="fal fa-clock"></i>
                                                    <label for="e-morning" class="radio-tile-label departure-radio">Early Morning</label>
                                                    <h6>4:00am - 5:59am</h6>
                                                </div>
                                            </div>
                                            <div class="input-container">
                                                <input id="morning" class="radio-button" type="radio" name="clock-time" value="morning">
                                                <div class="radio-tile sidebar-departure-radio">
                                                    <i class="fal fa-clock"></i>
                                                    <label for="morning" class="radio-tile-label departure-radio">Morning</label>
                                                    <h6>6:00am - 11:59pm</h6>
                                                </div>
                                            </div>
                                            <div class="input-container">
                                                <input id="afternoon" class="radio-button" type="radio" name="clock-time" value="after-noon">
                                                <div class="radio-tile sidebar-departure-radio">
                                                    <i class="fal fa-clock"></i>
                                                    <label for="afternoon" class="radio-tile-label departure-radio">Afternoon</label>
                                                    <h6>12:00pm - 4:59pm</h6>
                                                </div>
                                            </div>
                                            <div class="input-container">
                                                <input id="evening" class="radio-button" type="radio" name="clock-time" value="evening">
                                                <div class="radio-tile sidebar-departure-radio">
                                                    <i class="fal fa-clock"></i>
                                                    <label for="evening" class="radio-tile-label departure-radio">Evening</label>
                                                    <h6>5:00pm - 7:59pm</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="col-xl-12 col-lg-12" >
                            
                            <div id="flight_offers"></div>
                            <div id="floader">
                                <img style="width: 100%;" src="https://cdn.dribbble.com/users/328772/screenshots/10293847/media/d45c05b5e858e2508fb1a3b84f33e932.gif">
                            </div>
                           
                            <div class="paginations mt-8">
                               
                                <ul id="hush_pagination" class="unstyled">
                                  
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Flight Listing End -->
        </div>
        <!-- Main Content End -->

        <!-- Footer Start -->
        <footer class="bg-white p-40"  data-sal="slide-up" data-sal-duration="800" data-sal-delay="100" data-sal-easing="ease-in-out">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 mb-lg-0 mb-32 ">
                        <a href="/"><img src="assets/media/logo.png" alt="" class="mb-16"></a>
                        <p class="dark-gray mb-16">Lorem ipsum dolor sit amet consectetur. Aliquet vulputate augue
                            penatibus in
                            libero et id aliquam. In ridiculus pretium est velit euismod. </p>
                        <h6 class="lightest-black mb-8">Subscribe to our special offers</h6>
                        <form action="index.html" method="post">
                            <input type="email" class="form-control" placeholder="Email address" name="email">
                            <button type="submit" class="subscribe">Subscribe</button>
                        </form>
                    </div>
                    <div class="col-xl-2 col-lg-2 col-md-6 col-6 mb-lg-0 mb-32">
                        <h4 class="light-black mb-24">Booking</h4>
                        <div class="our-links">
                            <ul class="unstyled">
                                <li class="mb-16"><a href="/" class="light-black">Book Flights</a>
                                </li>
                                <li class="mb-16"><a href="tour-packages.html" class="light-black">Travel Services</a>
                                </li>
                                <li class="mb-16"><a href="car-booking.html" class="light-black">Transportation</a></li>
                                <li class="mb-16"><a href="tour-packages.html" class="light-black">Planning Your
                                        Trip</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-2 col-md-6 col-6 mb-lg-0 mb-32">
                        <h4 class="light-black mb-24">Useful Links</h4>
                        <div class="our-links">
                            <ul class="unstyled">
                                <li class="mb-16"><a href="index.html" class="light-black">Home</a>
                                </li>
                                <li class="mb-16"><a href="blog-listing.html" class="light-black">Blogs</a>
                                </li>
                                <li class="mb-16"><a href="about-us.html" class="light-black">About </a></li>
                                <li class="mb-16"><a href="contact.html" class="light-black">Contact Us</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-2 col-md-6 col-6 mb-md-0 mb-32">
                        <h4 class="light-black mb-24">Manage</h4>
                        <div class="our-links">
                            <ul class="unstyled">
                                <li class="mb-16"><a href="flight-booking.html" class="light-black">Check-in</a></li>
                                <li class="mb-16"><a href="tour-packages.html" class="light-black">Manage Your
                                        Booking</a></li>
                                <li class="mb-16"><a href="car-listing.html" class="light-black">Chaurfeur Drive</a>
                                </li>
                                <li class="mb-16"><a href="flight-listing.html" class="light-black">Flight Status</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6">
                        <h4 class="light-black mb-16">Contact Us</h4>
                        <div class="follow-us">
                            <ul class="unstyled">
                                <li class="mb-8"><img src="assets/media/icons/location-bk.png" alt="">&nbsp;&nbsp;123
                                    Main Street, Anytown, USA.</li>
                                <li class="mb-8 h-27 color-primary"><img src="assets/media/icons/telephone.png"
                                        alt="">&nbsp;&nbsp;+1 234 567 890</li>
                                <li class="mb-24"><a href="flight-listing.html"><img src="assets/media/icons/mail.png"
                                            alt="">&nbsp;&nbsp;email@example.com</a></li>
                            </ul>
                        </div>
                        <div class="social-link mb-32">
                            <h6 class="light-black mb-8">Follow Us!</h6>
                            <ul class="unstyled">
                                <li><a href="flight-listing.html" class="active"><img src="assets/media/icons/instagram.png" alt=""></a></li>
                                <li><a href="flight-listing.html"><img src="assets/media/icons/facebook.png" alt=""></a></li>
                                <li><a href="flight-listing.html"><img src="assets/media/icons/linkedin.png" alt=""></a></li>
                                <li><a href="flight-listing.html"><img src="assets/media/icons/twitter.png" alt=""></a></li>
                            </ul>
                        </div>
                        <p class="light-black">2023 FlyNow All Rights Reserved.</p>

                    </div>
                </div>
            </div>
        </footer>
        <!-- Footer Area End  -->

        <!-- modal-popup area Start  -->
        <div class="search-popup">
            <div class="search-popup__overlay search-toggler"></div>
            <div class="search-popup__content">
                <form role="search" method="get" class="search-popup__form" action="index.html">
                    <input type="text" id="search" placeholder="Search Here...">
                    <button type="submit"><i class="fal fa-search"></i></button>
                </form>
            </div>
        </div>
        <!-- search-popup end-->
    </div>


    <!-- Mobile Menu Start -->
    <div class="mobile-nav__wrapper">
        <div class="mobile-nav__overlay mobile-nav__toggler"></div>
        <div class="mobile-nav__content">
            <span class="mobile-nav__close mobile-nav__toggler"></span>
            <div class="logo-box">
                <a href="/" aria-label="logo image"><img src="assets/media/logo.png" alt="" class="invisible"></a>
            </div>
            <div class="mobile-nav__container"></div>
            <ul class="mobile-nav__contact list-unstyled">
                <li>
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:example@company.com">example@company.com</a>
                </li>
                <li>
                    <i class="fa fa-phone-alt"></i>
                    <a href="tel:+12345678">+123 (4567) -890</a>
                </li>
            </ul>
            <!-- <div class="mobile-nav__social">
        <a href="https://twitter.com/"><i class="fab fa-twitter"></i></a>
        <a href="https://www.facebook.com/"><i class="fab fa-facebook"></i></a>
        <a href="https://www.instagram.com/"><i class="fab fa-instagram"></i></a>
      </div> -->
        </div>
    </div>
    <!-- Mobile Menu End -->

    <!-- Jquery Js -->
    <script src="assets/js/vendor/jquery-3.6.3.min.js"></script>
    <script src="assets/js/vendor/calendar/popper.min.js"></script>
    <script src="assets/js/vendor/bootstrap.min.js"></script>
    <script src="assets/js/vendor/slick.min.js"></script>
    <script src="assets/js/vendor/jquery-appear.js"></script>
    <script src="assets/js/vendor/jquery-validator.js"></script>
    <script src="assets/js/vendor/aksVideoPlayer.js"></script>
    <script src="assets/js/vendor/tilt.jquery.js"></script>
    <script src="assets/js/vendor/calendar/picker.js"></script>
    <script src="assets/js/vendor/calendar/picker.date.js"></script>
    <script src="assets/js/vendor/autoComplete.js"></script>
    <script src="assets/js/vendor/jquery.timepicker.min.js"></script>
    <script src="assets/js/vendor/ionrangeslider.js"></script>
    <script src="assets/js/vendor/sal.js"></script>

    <!-- Site Scripts -->
    <script src="assets/js/date.js"></script>
    <script src="assets/js/app.js"></script>
</body>

</html>